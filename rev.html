<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Zenith 7.0: Ranboiw Edition</title>
    <style>
        :root { --p: #ff9d00; --bg: #030305; --card: #0c0c16; --white: #ffffff; --debug: #ff3e3e; }
        body { margin: 0; background: var(--bg); color: white; font-family: 'Inter', sans-serif; display: flex; height: 100vh; overflow: hidden; }
        
        /* Layout */
        #game-left { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; border-right: 1px solid #222; position: relative; }
        #game-mid { flex: 1.2; background: #06060c; display: flex; flex-wrap: wrap; align-content: flex-start; padding: 20px; overflow-y: auto; border-right: 1px solid #222; }
        #game-right { flex: 1; background: #000; display: flex; flex-direction: column; }

        /* Left: Clicker */
        #debug-trigger { position: absolute; top: 15px; left: 15px; background: var(--debug); padding: 8px 12px; border-radius: 6px; cursor: pointer; display: none; font-weight: 900; z-index: 100; border:none; color:white;}
        .bakery-header { font-size: 24px; color: #666; cursor: pointer; margin-bottom: 10px; }
        .count { font-size: 60px; font-weight: 900; color: var(--p); text-shadow: 0 0 30px rgba(255, 157, 0, 0.3); }
        #cookie { width: 260px; height: 260px; background: radial-gradient(circle at 30% 30%, #e6a46a, #d2691e); border-radius: 50%; cursor: pointer; position: relative; box-shadow: 0 10px 50px rgba(0,0,0,0.8); transition: transform 0.05s; }
        #cookie:active { transform: scale(0.95); }

        /* Mid: Building Visuals */
        .building-vis { width: 60px; height: 60px; margin: 5px; background: #1a1a2e; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 24px; animation: pop 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); border: 1px solid #333; }
        @keyframes pop { from { transform: scale(0); } to { transform: scale(1); } }

        /* Right: Shop */
        .shop-header { padding: 20px; font-size: 28px; font-weight: 900; border-bottom: 1px solid #222; text-align: center; color: var(--p); }
        .scroll-area { flex: 1; overflow-y: auto; padding: 15px; }
        .item { 
            background: var(--card); padding: 15px; border-radius: 12px; margin-bottom: 10px; 
            display: flex; justify-content: space-between; align-items: center;
            border: 1px solid #222; transition: 0.3s; opacity: 0.4; pointer-events: none;
        }
        .item.affordable { 
            background: var(--white); color: #000; opacity: 1; pointer-events: auto; 
            box-shadow: 0 0 20px rgba(255,255,255,0.2); 
        }
        .item h3 { margin: 0; font-size: 18px; color: var(--p); }
        .affordable h3 { color: #000; }
        .item p { margin: 2px 0 0; font-size: 12px; color: #666; }

        /* Modals */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); display: none; align-items: center; justify-content: center; z-index: 1000; backdrop-filter: blur(10px); }
        .modal { background: #121220; padding: 40px; border-radius: 20px; text-align: center; border: 2px solid var(--p); width: 320px; }
        .modal input { background: #000; border: 1px solid #444; color: white; padding: 12px; border-radius: 8px; width: 80%; margin: 20px 0; outline: none; }
        .btn { background: var(--p); color: #000; border: none; padding: 12px 24px; border-radius: 8px; font-weight: bold; cursor: pointer; }
        .btn-debug { background: var(--debug); color: white; width: 100%; margin-top: 10px; }

        /* Floating +1 */
        @keyframes float { 0% { transform: translateY(0); opacity: 1; } 100% { transform: translateY(-100px); opacity: 0; } }
        .float-text { position: absolute; pointer-events: none; animation: float 0.8s forwards; font-weight: 900; color: white; }
    </style>
</head>
<body>

<button id="debug-trigger" onclick="openModal('name-modal')">ZENITH CONSOLE</button>

<div id="game-left">
    <div class="bakery-header" id="bakery-display" onclick="openModal('name-modal')">Player's Bakery</div>
    <div class="count" id="cookie-display">0</div>
    <div style="color:#444; font-weight:bold;">CPS: <span id="cps-display">0</span></div>
    <div id="cookie" onclick="handleCookieClick(event)"></div>
</div>

<div id="game-mid" id="visual-district">
    <!-- Buildings show up here -->
</div>

<div id="game-right">
    <div class="shop-header">FORGE v7.0</div>
    <div class="scroll-area" id="shop-items"></div>
</div>

<div class="modal-overlay" id="name-modal">
    <div class="modal">
        <h2>RENAME</h2>
        <input type="text" id="name-input" placeholder="New Prefix...">
        <br>
        <button class="btn" onclick="saveName()">CONFIRM</button>
        <div id="debug-options" style="display:none; margin-top:20px;">
            <button class="btn btn-debug" onclick="cheat()">+1M COOKIES</button>
        </div>
    </div>
</div>

<script>
    let state = {
        cookies: 0,
        clickPower: 1,
        owner: "Player",
        isAdmin: false,
        store: [
            { id:0, name: 'Reinforced Finger', cost: 15, type: 'up', power: 2, icon: 'â˜ï¸', desc: '2x Click Power', count: 0 },
            { id:1, name: 'Grandma', cost: 100, type: 'build', power: 1, icon: 'ðŸ‘µ', desc: '+1 CPS', count: 0 },
            { id:2, name: 'Cookie Farm', cost: 1100, type: 'build', power: 8, icon: 'ðŸšœ', desc: '+8 CPS', count: 0 },
            { id:3, name: 'Factory', cost: 12000, type: 'build', power: 47, icon: 'ðŸ­', desc: '+47 CPS', count: 0 },
            { id:4, name: 'Quantum Bakery', cost: 150000, type: 'build', power: 250, icon: 'âš›ï¸', desc: '+250 CPS', count: 0 }
        ]
    };

    function openModal(id) { document.getElementById(id).style.display = 'flex'; }
    function closeModal(id) { document.getElementById(id).style.display = 'none'; }

    function saveName() {
        let val = document.getElementById('name-input').value;
        if (val) {
            if (val.toLowerCase() === 'gregboi') {
                state.isAdmin = true;
                state.owner = "ranboiw";
                document.getElementById('debug-trigger').style.display = 'block';
                document.getElementById('debug-options').style.display = 'block';
            } else {
                state.owner = val;
                state.isAdmin = false;
                document.getElementById('debug-trigger').style.display = 'none';
                document.getElementById('debug-options').style.display = 'none';
            }
            document.getElementById('bakery-display').innerText = state.owner + "'s Bakery";
        }
        closeModal('name-modal');
    }

    function cheat() { state.cookies += 1000000; updateUI(); }

    function handleCookieClick(e) {
        state.cookies += state.clickPower;
        const p = document.createElement('div');
        p.className = 'float-text';
        p.style.left = e.clientX + 'px'; p.style.top = e.clientY + 'px';
        p.innerText = "+" + state.clickPower;
        document.body.appendChild(p);
        setTimeout(() => p.remove(), 800);
        updateUI();
    }

    function buy(idx) {
        let item = state.store[idx];
        if (state.cookies >= item.cost) {
            state.cookies -= item.cost;
            item.count++;
            if (item.type === 'up') {
                state.clickPower *= item.power;
                item.cost *= 10;
            } else {
                item.cost *= 1.15;
                addVisualBuilding(item.icon);
            }
            updateUI();
        }
    }

    function addVisualBuilding(icon) {
        const district = document.getElementById('game-mid');
        const el = document.createElement('div');
        el.className = 'building-vis';
        el.innerText = icon;
        district.appendChild(el);
    }

    function updateUI() {
        document.getElementById('cookie-display').innerText = Math.floor(state.cookies).toLocaleString();
        let totalCPS = state.store.reduce((acc, i) => i.type === 'build' ? acc + (i.count * i.power) : acc, 0);
        document.getElementById('cps-display').innerText = totalCPS.toLocaleString();

        const container = document.getElementById('shop-items');
        container.innerHTML = '';
        state.store.forEach((item, i) => {
            const canAfford = state.cookies >= item.cost;
            const div = document.createElement('div');
            div.className = `item ${canAfford ? 'affordable' : ''}`;
            div.onclick = () => buy(i);
            div.innerHTML = `<div><h3>${item.name} (${item.count})</h3><p>${item.desc}</p><p>Cost: ${Math.floor(item.cost).toLocaleString()}</p></div>`;
            container.appendChild(div);
        });
    }

    setInterval(() => {
        let totalCPS = state.store.reduce((acc, i) => i.type === 'build' ? acc + (i.count * i.power) : acc, 0);
        state.cookies += (totalCPS / 10);
        updateUI();
    }, 100);

    updateUI();
</script>
</body>
</html>
